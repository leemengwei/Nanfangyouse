(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[3],{2:function(e,a){},3:function(e,a){},4:function(e,a){},Jan8:function(e,a,t){"use strict";t.d(a,"e",(function(){return n})),t.d(a,"f",(function(){return r})),t.d(a,"a",(function(){return l})),t.d(a,"b",(function(){return i})),t.d(a,"c",(function(){return c})),t.d(a,"d",(function(){return d}));var n=[],r=[[{cohesion:!0,name:"\u6c34\u661f\u8f6e",number:10001,Cu:1,Fe:2,S:3,SiO2:4,CaO:5,As:6,Zn:7,Pb:8,MgO:9,Al2O3:10,H2O:11,inventory:12,calculatePercentage:"",inventoryBalance:"",productionTime:1e3,formula:"1"},{cohesion:!1,name:"\u83b1\u79d1\u5854",number:10002,Cu:13,Fe:14,S:15,SiO2:15,CaO:15,As:15,Zn:15,Pb:15,MgO:15,Al2O3:15,H2O:15,inventory:1e3,calculatePercentage:"",inventoryBalance:"",productionTime:1e3,formula:"1"},{cohesion:!0,name:"\u548c\u76db",number:10003,Cu:16,Fe:16,S:16,SiO2:16,CaO:16,As:16,Zn:16,Pb:16,MgO:16,Al2O3:16,H2O:16,inventory:16,calculatePercentage:"",inventoryBalance:"",productionTime:1e3,formula:"1"},{cohesion:!1,name:"\u65b9\u821f21",number:10004,Cu:20,Fe:20,S:20,SiO2:20,CaO:20,As:20,Zn:20,Pb:20,MgO:20,Al2O3:20,H2O:20,inventory:20,calculatePercentage:"",inventoryBalance:"",productionTime:1e3,formula:"1"},{cohesion:!1,name:"\u6c5f\u95e8\u5546\u4eba",number:10005,Cu:30,Fe:30,S:30,SiO2:30,CaO:30,As:30,Zn:30,Pb:30,MgO:30,Al2O3:30,H2O:30,Sb:30,Bi:30,Ni:30,Ag:30,Au:30,inventory:30,calculatePercentage:"",inventoryBalance:"",productionTime:1e3,formula:"1"}],[{delete:!1,name:"\u88682\u9879\u76ee1",number:10007,Cu:20,Fe:20,S:20,SiO2:20,CaO:20,As:20,Zn:20,Pb:20,MgO:20,Al2O3:20,H2O:20,inventory:20,calculatePercentage:"",inventoryBalance:"",productionTime:1e3,formula:"2"},{delete:!1,name:"\u88682\u9879\u76ee2",number:10008,Cu:30,Fe:30,S:30,SiO2:30,CaO:30,As:30,Zn:30,Pb:30,MgO:30,Al2O3:30,H2O:30,Sb:30,Bi:30,Ni:30,Ag:30,Au:30,inventory:30,calculatePercentage:"",inventoryBalance:"",productionTime:1e3,formula:"2"},{delete:!1,name:"\u88682\u9879\u76ee3",number:10009,Cu:30,Fe:30,S:30,SiO2:30,CaO:30,As:30,Zn:30,Pb:30,MgO:30,Al2O3:30,H2O:30,Sb:30,Bi:30,Ni:30,Ag:30,Au:30,inventory:30,calculatePercentage:"",inventoryBalance:"",productionTime:1e3,formula:"2"},{cohesion:!1,name:"\u6c5f\u95e8\u5546\u4eba",number:10006,Cu:30,Fe:30,S:30,SiO2:30,CaO:30,As:30,Zn:30,Pb:30,MgO:30,Al2O3:30,H2O:30,Sb:30,Bi:30,Ni:30,Ag:30,Au:30,inventory:30,calculatePercentage:"",inventoryBalance:"",productionTime:1e3,formula:"2"}]],l=[{title:"\u5e93\u5b58\u7269\u6599",dataIndex:"name"},{title:"Cu",dataIndex:"Cu"},{title:"Fe",dataIndex:"Fe"},{title:"S",dataIndex:"S"},{title:"SiO2",dataIndex:"SiO2"},{title:"CaO",dataIndex:"CaO"},{title:"As",dataIndex:"As"},{title:"Zn",dataIndex:"Zn"},{title:"Pb",dataIndex:"Pb"},{title:"MgO",dataIndex:"MgO"},{title:"Al2O3",dataIndex:"Al2O3"},{title:"H2O",dataIndex:"H2O"},{title:"Sb",dataIndex:"Sb"},{title:"Bi",dataIndex:"Bi"},{title:"Ni",dataIndex:"Ni"},{title:"Ag(t/g)",dataIndex:"Ag"},{title:"Au(t/g)",dataIndex:"Au"}],i=[{title:"\u540d\u79f0",dataIndex:"name"},{title:"\u6279\u6b21\u53f7",dataIndex:"number"},{title:"Cu",dataIndex:"Cu"},{title:"Fe",dataIndex:"Fe"},{title:"S",dataIndex:"S"},{title:"SiO2",dataIndex:"SiO2"},{title:"CaO",dataIndex:"CaO"},{title:"As",dataIndex:"As"},{title:"Zn",dataIndex:"Zn"},{title:"Pb",dataIndex:"Pb"},{title:"MgO",dataIndex:"MgO"},{title:"Al2O3",dataIndex:"Al2O3"},{title:"H2O",dataIndex:"H2O"},{title:"Sb",dataIndex:"Sb"},{title:"Bi",dataIndex:"Bi"},{title:"Ni",dataIndex:"Ni"},{title:"Ag(t/g)",dataIndex:"Ag"},{title:"Au(t/g)",dataIndex:"Au"},{title:"\u5e93\u5b58/\u5428",dataIndex:"inventory"},{title:"\u6d88\u8017",dataIndex:"consumed_amounts"},{title:"\u5e93\u5b58\u4f59\u91cf",dataIndex:"inventoryBalance"},{title:"\u751f\u4ea7\u65f6\u95f4",dataIndex:"productionTime"},{title:"\u6f14\u7b97\u6bd4\u4f8b",dataIndex:"calculatePercentage"},{title:"\u8c03\u6574\u6bd4\u4f8b",dataIndex:"adjustRatio",editable:!0,step:.01}],c=[{title:"\u5165\u7089\u6df7\u5408\u6599",dataIndex:"name"},{title:"Cu",dataIndex:"Cu"},{title:"Fe",dataIndex:"Fe"},{title:"S",dataIndex:"S"},{title:"SiO2",dataIndex:"SiO2"},{title:"CaO",dataIndex:"CaO"},{title:"As",dataIndex:"As"},{title:"Zn",dataIndex:"Zn"},{title:"Pb",dataIndex:"Pb"},{title:"MgO",dataIndex:"MgO"},{title:"Al2O3",dataIndex:"Al2O3"},{title:"H2O",dataIndex:"H2O"},{title:"Sb",dataIndex:"Sb"},{title:"Bi",dataIndex:"Bi"},{title:"Ni",dataIndex:"Ni"},{title:"Ag(t/g)",dataIndex:"Ag"},{title:"Au(t/g)",dataIndex:"Au"}],d=[{title:"\u7269\u6599\u5206\u7c7b",dataIndex:"material",editable:!0,formType:"select"},{title:"\u7269\u6599\u7f16\u7801",dataIndex:"number"},{title:"\u7269\u6599\u540d\u79f0",dataIndex:"name",editable:!0,formType:"text"},{title:"\u4e0a\u671f\u7ed3\u5b58\u5e72\u91cf(t)",dataIndex:"lastBalanceDry",editable:!0},{title:"\u4e0a\u671f\u7ed3\u5b58Cu(%)",dataIndex:"lastBalancePercentageCu",editable:!0},{title:"\u4e0a\u671f\u7ed3\u5b58Cu(t)",dataIndex:"lastBalanceCu",editable:!0},{title:"\u4e0a\u671f\u7ed3\u5b58Ag(g/t)",dataIndex:"lastBalanceUnitageAg",editable:!0},{title:"\u4e0a\u671f\u7ed3\u5b58Ag(g)",dataIndex:"lastBalanceAg",editable:!0},{title:"\u4e0a\u671f\u7ed3\u5b58Au(g/t)",dataIndex:"lastBalanceUnitageAu",editable:!0},{title:"\u4e0a\u671f\u7ed3\u5b58Au(g)",dataIndex:"lastBalanceAu",editable:!0},{title:"\u672c\u671f\u6536\u5165\u5e72\u91cf(t)",dataIndex:"currentIncomeDry",editable:!0},{title:"\u672c\u671f\u6536\u5165Cu(%)",dataIndex:"currentIncomePercentageCu",editable:!0},{title:"\u672c\u671f\u6536\u5165Cu(t)",dataIndex:"currentIncomeCu",editable:!0},{title:"\u672c\u671f\u6536\u5165Ag(g/t)",dataIndex:"currentIncomeUnitageAg",editable:!0},{title:"\u672c\u671f\u6536\u5165Ag(g)",dataIndex:"currentIncomeAg",editable:!0},{title:"\u672c\u671f\u6536\u5165Au(g/t)",dataIndex:"currentIncomeUnitageAu",editable:!0},{title:"\u672c\u671f\u6536\u5165Au(g)",dataIndex:"currentIncomeAu",editable:!0},{title:"\u672c\u671f\u7ed3\u5b58 \u5e72\u91cf(t)",dataIndex:"currentBalanceDry",editable:!0},{title:"\u672c\u671f\u7ed3\u5b58Cu(%)",dataIndex:"currentBalancePercentageCu",editable:!0},{title:"\u672c\u671f\u7ed3\u5b58Cu(t)",dataIndex:"currentBalanceCu",editable:!0},{title:"\u672c\u671f\u7ed3\u5b58Ag(g/t)",dataIndex:"currentBalanceUnitageAg",editable:!0},{title:"\u672c\u671f\u7ed3\u5b58Ag(g)",dataIndex:"currentBalanceAg",editable:!0},{title:"\u672c\u671f\u7ed3\u5b58Au(g/t)",dataIndex:"currentBalanceUnitageAu",editable:!0},{title:"\u672c\u671f\u7ed3\u5b58Au(g)",dataIndex:"currentBalanceAu",editable:!0},{title:"\u672c\u671f\u4f7f\u7528 \u5e72\u91cf(t)",dataIndex:"currentCostDry",editable:!0},{title:"\u672c\u671f\u4f7f\u7528Cu(t)",dataIndex:"currentCostCu",editable:!0},{title:"\u672c\u671f\u4f7f\u7528Ag(g)",dataIndex:"currentCostAg",editable:!0},{title:"\u672c\u671f\u4f7f\u7528Au(g)",dataIndex:"currentCostAu",editable:!0}]},RKie:function(e,a,t){e.exports={row:"row___1DBFT",shortinput:"shortinput___22iy_",elementspan:"elementspan___3EBa7",childtitle:"childtitle___2j6kC",block:"block___wZaOA"}},kh19:function(e,a,t){"use strict";t.d(a,"a",(function(){return v}));t("g9YV");var n=t("wCAj"),r=(t("giR+"),t("fyUT")),l=(t("5NDa"),t("5rEg")),i=(t("OaEy"),t("2fM7")),c=t("WmNS"),d=t.n(c),u=t("k1fw"),o=t("9og8"),g=(t("y8nQ"),t("Vl3Y")),s=t("tJVT"),m=t("PpiC"),p=t("q1tI"),b=t.n(p),v=b.a.createContext({columns:[],dataSource:[],setData:()=>{}}),x=b.a.createContext(),y=e=>{e.index;var a=Object(m["a"])(e,["index"]),t=g["a"].useForm(),n=Object(s["a"])(t,1),r=n[0];return b.a.createElement(g["a"],{form:r,component:!1},b.a.createElement(x.Provider,{value:r},b.a.createElement("tr",a)))},A=e=>{e.title;var a=e.editable,t=e.children,n=e.dataIndex,c=e.record,v=e.handleSave,y=e.step,A=e.formType,O=e.materialOptions,f=Object(m["a"])(e,["title","editable","children","dataIndex","record","handleSave","step","formType","materialOptions"]),I=Object(p["useState"])(!1),h=Object(s["a"])(I,2),C=h[0],E=h[1],B=Object(p["useRef"])(),P=Object(p["useContext"])(x);Object(p["useEffect"])(()=>{var e,a;if(C)return null===(e=B.current)||void 0===e||null===(a=e.focus)||void 0===a?void 0:a.call(e)},[C]);var S,w=()=>{!1!==c.required&&(E(!C),P.setFieldsValue({[n]:c[n]}))},_=function(){var e=Object(o["a"])(d.a.mark((function e(a){var t;return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P.validateFields();case 3:t=e.sent,console.log(t),w(),v(Object(u["a"])(Object(u["a"])({},c),t)),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),console.log("Save failed:",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(a){return e.apply(this,arguments)}}(),j=t;a&&(S="select"===A?b.a.createElement(i["a"],{onChange:_},null===O||void 0===O?void 0:O.map(e=>b.a.createElement(i["a"].Option,{key:e,value:e},e))):"text"===A?b.a.createElement(l["a"],{style:{minWidth:"150px"},ref:B,onPressEnter:_,onBlur:_}):b.a.createElement(r["a"],{ref:B,onPressEnter:_,onBlur:_,step:y||1,precision:2}),j=C?b.a.createElement(g["a"].Item,{style:{margin:0},name:n,rules:[{required:!0}]},S):b.a.createElement("div",{onClick:w,style:{minHeight:"20px"}},t));return b.a.createElement("td",f,j)};function O(e){var a=Object(p["useContext"])(v),t=a.columns,r=a.dataSource,l=a.setData,i=a.materialOptions,c={body:{row:y,cell:A}},d=t.map(e=>e.editable?Object(u["a"])(Object(u["a"])({},e),{},{onCell:a=>({record:a,editable:e.editable,dataIndex:e.dataIndex,title:e.title,step:e.step,formType:e.formType,materialOptions:i,handleSave:e=>{var a=[...r],t=a.findIndex(a=>e.number===a.number);a[t]=Object(u["a"])({},e),l(a)}})}):e);return b.a.createElement("div",null,b.a.createElement(n["a"],{rowKey:"number",components:c,columns:d,dataSource:r,pagination:!1,bordered:!0}))}a["b"]=O},t3Un:function(e,a,t){"use strict";a["a"]=function(e){var a=new XMLHttpRequest;a.addEventListener("readystatechange",()=>{4===a.readyState&&200===a.status&&(console.log(JSON.parse(a.response)),e.cb(JSON.parse(a.responseText)))}),a.open(e.method,"http://".concat(e.host,":").concat(e.port,"/api/").concat(e.url)),a.setRequestHeader("Content-type","application/json"),a.send(e.payload?JSON.stringify(e.payload):null)}},wYJs:function(e,a,t){e.exports={wrapper:"wrapper___2IqOo",tableWrapper:"tableWrapper___a2_bZ"}},wkbO:function(e,a,t){"use strict";t.r(a);t("IzEo");var n=t("bx4M"),r=(t("/zsF"),t("PArb")),l=(t("Znn+"),t("ZTPi")),i=t("q1tI"),c=t.n(i),d=(t("14J3"),t("BMrR")),u=(t("jCWc"),t("kPKH")),o=(t("DYRE"),t("zeV3")),g=(t("5NDa"),t("5rEg")),s=(t("DZo9"),t("8z0m")),m=(t("+L6B"),t("2/Rp")),p=t("tJVT"),b=t("kh19"),v=t("EUZL"),x=t.n(v),y=t("/MKj"),A=t("Jan8"),O=t("t3Un"),f=t("k1fw");function I(e){var a=[];return e.forEach(e=>{var t={material:e.material,number:e.number,name:e.name,currentBalanceDryMax:C(1.6*e.currentBalanceDry)||0,currentBalanceDryMin:C(.4*e.currentBalanceDry)||0,currentBalanceDryVariance:C(.2*e.currentBalanceDry)||0,currentBalancePercentageCuMax:C(1.3*e.currentBalancePercentageCu)||0,currentBalancePercentageCuMin:C(.7*e.currentBalancePercentageCu)||0,currentBalancePercentageCuVariance:C(.1*e.currentBalancePercentageCu)||0,currentBalancePercentageAgMax:C(1.3*e.currentBalanceUnitageAg)||0,currentBalancePercentageAgMin:C(.7*e.currentBalanceUnitageAg)||0,currentBalancePercentageAgVariance:C(.1*e.currentBalanceUnitageAg)||0,currentBalancePercentageAuMax:C(1.3*e.currentBalanceUnitageAu)||0,currentBalancePercentageAuMin:C(.7*e.currentBalanceUnitageAu)||0,currentBalancePercentageAuVariance:C(.1*e.currentBalanceUnitageAu)||0};a.push(t)}),a}function h(e){var a=Object(f["a"])({},e);for(var t in a)"number"===typeof a[t]&&(a[t]=C(a[t]));return a}function C(e){return Number(e.toFixed(2))}var E=t("RKie"),B=t.n(E),P=t("wYJs"),S=t.n(P);function w(e){var a=e.config,t=e.pinghengParameter,n=e.materialOptions,r=e.dispatch,l=Object(i["useState"])(null),v=Object(p["a"])(l,2),y=v[0],O=v[1];function f(e){r({type:"global/changeMaterialOptions",list:e})}function C(e){r({type:"global/changePinghengParameter",value:e})}function E(e,a){if(O(e),a){var t=I(e);r({type:"global/changePinghengSetList",dataList:e,settingList:t})}r({type:"global/changePinghengOldList",list:e})}function P(e){var a=new FileReader;a.onload=function(e){var a,t,n,r=e.target.result,l=x.a.read(r,{type:"binary"}),i=x.a.utils.sheet_to_json(l.Sheets[l.SheetNames[0]]),c=Array(i.length),d=i.map((e,a)=>(c[a]=e.material,h(e)));console.log(d),E(d,!0),C({recoveryAu:null!==(a=d[0].recoveryAu)&&void 0!==a?a:0,recoveryAg:null!==(t=d[0].recoveryAg)&&void 0!==t?t:0,recoveryCu:null!==(n=d[0].recoveryCu)&&void 0!==n?n:0}),f(Array.from(new Set(c)))},a.readAsBinaryString(e.file)}return Object(i["useEffect"])(()=>{r({type:"global/changeConfig",port:7002})},[]),c.a.createElement("div",{className:S.a.wrapper},c.a.createElement("div",{className:B.a.row},c.a.createElement(o["a"],null,c.a.createElement(s["a"],{showUploadList:!1,customRequest:P},c.a.createElement(m["a"],{type:"primary"},"\u6570\u636e\u5f55\u5165")),c.a.createElement(g["a"],{style:{width:"250px"},addonBefore:"\u5f53\u524d\u8bf7\u6c42\u5730\u5740",value:a.host,onChange:e=>{r({type:"global/changeConfig",host:e.target.value})}}),c.a.createElement(g["a"],{style:{width:"150px"},addonBefore:"\u5f53\u524d\u7aef\u53e3",value:a.port,onChange:e=>{r({type:"global/changeConfig",port:e.target.value})}}))),c.a.createElement("div",{className:"".concat(B.a.row," ").concat(S.a.tableWrapper)},c.a.createElement(b["a"].Provider,{value:{columns:A["d"],dataSource:y,materialOptions:n,setData:E}},c.a.createElement(b["b"],null)),c.a.createElement(d["a"],{className:B.a.row,style:{marginTop:"20px"}},c.a.createElement(u["a"],{span:6},c.a.createElement(g["a"],{style:{width:"250px"},addonBefore:"\u91d1\u56de\u6536\u7387(%)",value:t.recoveryAu,onChange:e=>{C({recoveryAu:Number(e.target.value)})}})),c.a.createElement(u["a"],{span:6},c.a.createElement(g["a"],{style:{width:"250px"},addonBefore:"\u94f6\u56de\u6536\u7387(%)",value:t.recoveryAg,onChange:e=>{C({recoveryAg:Number(e.target.value)})}})),c.a.createElement(u["a"],{span:6},c.a.createElement(g["a"],{style:{width:"250px"},addonBefore:"\u94dc\u56de\u6536\u7387(%)",value:t.recoveryCu,onChange:e=>{C({recoveryCu:Number(e.target.value)})}})))))}function _(e){var a=e.global,t=a.config,n=a.pinghengParameter,r=a.materialOptions;return{config:t,pinghengParameter:n,materialOptions:r}}var j=Object(y["c"])(_)(w),D=(t("sRBo"),t("kaz8"));function L(e){e.config;var a=e.pinghengOldList,t=e.pinghengSetList,n=e.dispatch,r=Object(i["useState"])(t),l=Object(p["a"])(r,2),d=l[0],u=l[1],o=Object(i["useRef"])([...d]);function g(e){u(e);var t=[],r=e.filter(e=>{var a=!!e.delete;return a&&t.push(e.number),!a}),l=a.filter(e=>!t.includes(e.number));n({type:"global/changePinghengSetList",settingList:r,dataList:l})}Object(i["useEffect"])(()=>{o.current=[...d]},[d]),Object(i["useEffect"])(()=>{u(I(a))},[a]);var s=[{title:"\u6392\u9664",dataIndex:"delete",render:(e,a,t)=>c.a.createElement(D["a"],{checked:e,onChange:()=>{var n=[...o.current];n[t]=Object(f["a"])({},a),n[t].delete=!e,g(n)}})},{title:"\u7269\u6599\u5206\u7c7b",dataIndex:"material"},{title:"\u7269\u6599\u7f16\u7801",dataIndex:"number"},{title:"\u7269\u6599\u540d\u79f0",dataIndex:"name"},{title:"\u672c\u671f\u7ed3\u5b58\u5e72\u91cf \u6700\u5927\u503c",dataIndex:"currentBalanceDryMax",editable:!0},{title:"\u672c\u671f\u7ed3\u5b58\u5e72\u91cf \u6700\u5c0f\u503c",dataIndex:"currentBalanceDryMin",editable:!0},{title:"\u672c\u671f\u7ed3\u5b58\u5e72\u91cf \u65b9\u5dee",dataIndex:"currentBalanceDryVariance",editable:!0},{title:"\u672c\u671f\u7ed3\u5b58Cu \u6700\u5927\u503c",dataIndex:"currentBalancePercentageCuMax",editable:!0},{title:"\u672c\u671f\u7ed3\u5b58Cu \u6700\u5c0f\u503c",dataIndex:"currentBalancePercentageCuMin",editable:!0},{title:"\u672c\u671f\u7ed3\u5b58Cu \u65b9\u5dee",dataIndex:"currentBalancePercentageCuVariance",editable:!0},{title:"\u672c\u671f\u7ed3\u5b58Ag \u6700\u5927\u503c",dataIndex:"currentBalancePercentageAgMax",editable:!0},{title:"\u672c\u671f\u7ed3\u5b58Ag \u6700\u5c0f\u503c",dataIndex:"currentBalancePercentageAgMin",editable:!0},{title:"\u672c\u671f\u7ed3\u5b58Ag \u65b9\u5dee",dataIndex:"currentBalancePercentageAgVariance",editable:!0},{title:"\u672c\u671f\u7ed3\u5b58Au \u6700\u5927\u503c",dataIndex:"currentBalancePercentageAuMax",editable:!0},{title:"\u672c\u671f\u7ed3\u5b58Au \u6700\u5c0f\u503c",dataIndex:"currentBalancePercentageAuMin",editable:!0},{title:"\u672c\u671f\u7ed3\u5b58Au \u65b9\u5dee",dataIndex:"currentBalancePercentageAuVariance",editable:!0}];return c.a.createElement("div",{className:S.a.wrapper},c.a.createElement("div",{className:"".concat(B.a.row," ").concat(S.a.tableWrapper)},c.a.createElement(b["a"].Provider,{value:{columns:s,dataSource:d,setData:g}},c.a.createElement(b["b"],null))))}function N(e){var a=e.global,t=a.config,n=a.pinghengOldList,r=a.pinghengSetList;return{config:t,pinghengOldList:n,pinghengSetList:r}}var M=Object(y["c"])(N)(L);function k(e){var a=e.config,t=e.materialOptions,n=e.pinghengSetList,r=e.pinghengDataList,l=e.pinghengParameter,i=e.pinghengResizeDataList,s=e.dispatch;function p(e){s({type:"global/changePinghengParameter",value:e})}function v(e){s({type:"global/changePinghengResizeDataList",list:e})}function x(){var e={list:r,setting:n,parameter:{recoveryAu:l.recoveryAu,recoveryAg:l.recoveryAg,recoveryCu:l.recoveryCu}};console.log(e),Object(O["a"])({method:"POST",host:a.host,port:a.port,url:"correct_data",payload:e,cb:e=>{var a={recoveryAu_:e.parameter.recoveryAu,recoveryAg_:e.parameter.recoveryAg,recoveryCu_:e.parameter.recoveryCu};v(e.list.map(e=>h(e))),p(a)}})}return c.a.createElement("div",{className:S.a.wrapper},c.a.createElement("div",{className:B.a.row},c.a.createElement(o["a"],null,c.a.createElement(m["a"],{type:"primary",onClick:x},"\u6570\u636e\u77eb\u6b63"))),c.a.createElement("div",{className:"".concat(B.a.row," ").concat(S.a.tableWrapper)},c.a.createElement(b["a"].Provider,{value:{columns:A["d"],dataSource:i,materialOptions:t,setData:v}},c.a.createElement(b["b"],null)),c.a.createElement(d["a"],{className:B.a.row,style:{marginTop:"20px"}},c.a.createElement(u["a"],{span:6},c.a.createElement(g["a"],{style:{width:"250px"},addonBefore:"\u91d1\u56de\u6536\u7387(%)",value:l.recoveryAu_,onChange:e=>{p({recoveryAu_:e.target.value})}})),c.a.createElement(u["a"],{span:6},c.a.createElement(g["a"],{style:{width:"250px"},addonBefore:"\u94f6\u56de\u6536\u7387(%)",value:l.recoveryAg_,onChange:e=>{p({recoveryAg_:e.target.value})}})),c.a.createElement(u["a"],{span:6},c.a.createElement(g["a"],{style:{width:"250px"},addonBefore:"\u94dc\u56de\u6536\u7387(%)",value:l.recoveryCu_,onChange:e=>{p({recoveryCu_:e.target.value})}})))))}function T(e){var a=e.global,t=a.config,n=a.materialOptions,r=a.pinghengDataList,l=a.pinghengSetList,i=a.pinghengParameter,c=a.pinghengResizeDataList;return{config:t,materialOptions:n,pinghengSetList:l,pinghengDataList:r,pinghengParameter:i,pinghengResizeDataList:c}}var R=Object(y["c"])(T)(k),F=(t("g9YV"),t("wCAj"));function Z(e){var a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return void 0===e||null===e||Number.isNaN(e)?a?null:[null,null]:0===e?a?c.a.createElement("span",null,"0"):[0,null]:e>0?a?c.a.createElement("span",{style:{color:"#3f8600"}},"+"+e):["+"+e,"#3f8600"]:a?c.a.createElement("span",{style:{color:"#cf1322"}},e):[e,"#cf1322"]}function H(e,a){return e.map(e=>{for(var t=e.number,n={key:"k".concat(e.number)},r=a.find(e=>e.number===t),l=0;l<A["d"].length;l++){var i=A["d"][l].dataIndex;if("material"===i||"number"===i||"name"===i)n[i]=e[i];else{var c,d,u=null!==(c=null===r||void 0===r?void 0:r[i])&&void 0!==c?c:0,o=null!==(d=null===e||void 0===e?void 0:e[i])&&void 0!==d?d:0;n[i]=C(o-u)}}return n})}var U=[{title:"\u7269\u6599\u5206\u7c7b",dataIndex:"material"},{title:"\u7269\u6599\u7f16\u7801",dataIndex:"number"},{title:"\u7269\u6599\u540d\u79f0",dataIndex:"name"},{title:"\u672c\u671f\u7ed3\u5b58 \u5e72\u91cf(t)",dataIndex:"currentBalanceDry",render:Z},{title:"\u672c\u671f\u7ed3\u5b58Cu(%)",dataIndex:"currentBalancePercentageCu",render:Z},{title:"\u672c\u671f\u7ed3\u5b58Cu(t)",dataIndex:"currentBalanceCu",render:Z},{title:"\u672c\u671f\u7ed3\u5b58Ag(g/t)",dataIndex:"currentBalanceUnitageAg",render:Z},{title:"\u672c\u671f\u7ed3\u5b58Ag(g)",dataIndex:"currentBalanceAg",render:Z},{title:"\u672c\u671f\u7ed3\u5b58Au(g/t)",dataIndex:"currentBalanceUnitageAu",render:Z},{title:"\u672c\u671f\u7ed3\u5b58Au(g)",dataIndex:"currentBalanceAu",render:Z},{title:"\u672c\u671f\u4f7f\u7528 \u5e72\u91cf(t)",dataIndex:"currentCostDry",render:Z},{title:"\u672c\u671f\u4f7f\u7528Cu(t)",dataIndex:"currentCostCu",render:Z},{title:"\u672c\u671f\u4f7f\u7528Ag(g)",dataIndex:"currentCostAg",render:Z},{title:"\u672c\u671f\u4f7f\u7528Au(g)",dataIndex:"currentCostAu",render:Z}];function z(e){var a=e.pinghengOldList,t=(e.pinghengDataList,e.pinghengParameter),n=e.pinghengResizeDataList,r=(e.dispatch,Object(i["useState"])(H(a,n))),l=Object(p["a"])(r,2),o=l[0],s=l[1];return Object(i["useEffect"])(()=>{s(H(a,n))},[n,a]),c.a.createElement("div",{className:S.a.wrapper},c.a.createElement("div",{className:B.a.row}),c.a.createElement("div",{className:"".concat(B.a.row," ").concat(S.a.tableWrapper)},c.a.createElement(F["a"],{key:"number",columns:U,dataSource:o,pagination:!1,bordered:!0}),c.a.createElement(d["a"],{className:B.a.row,style:{marginTop:"20px"}},c.a.createElement(u["a"],{span:6},c.a.createElement(g["a"],{style:{width:"250px"},addonBefore:"\u91d1\u56de\u6536\u7387(%)",value:Z(t.recoveryAu_-t.recoveryAu,!1)[0]})),c.a.createElement(u["a"],{span:6},c.a.createElement(g["a"],{style:{width:"250px"},addonBefore:"\u94f6\u56de\u6536\u7387(%)",value:Z(t.recoveryAg_-t.recoveryAg,!1)[0]})),c.a.createElement(u["a"],{span:6},c.a.createElement(g["a"],{style:{width:"250px"},addonBefore:"\u94dc\u56de\u6536\u7387(%)",value:Z(t.recoveryCu_-t.recoveryCu,!1)[0]})))))}function V(e){var a=e.global,t=a.config,n=a.pinghengOldList,r=a.pinghengDataList,l=a.pinghengParameter,i=a.pinghengResizeDataList;return{config:t,pinghengOldList:n,pinghengDataList:r,pinghengParameter:l,pinghengResizeDataList:i}}var J=Object(y["c"])(V)(z);function W(e){var a=e.pinghengResizeDataList,t=e.pinghengParameter;function n(){var e=[...a];e[0].recoveryAu=t.recoveryAu_,e[0].recoveryAg=t.recoveryAg_,e[0].recoveryCu=t.recoveryCu_;var n=x.a.utils.json_to_sheet(e),r=x.a.utils.book_new();x.a.utils.book_append_sheet(r,n,"\u5bfc\u51fa");var l={bookType:"xlsx",bookSST:!1,type:"binary"};x.a.writeFile(r,"\u5bfc\u51fa.xlsx",l)}return c.a.createElement("div",{className:S.a.wrapper},c.a.createElement("div",{className:B.a.row},c.a.createElement(o["a"],null,c.a.createElement(m["a"],{type:"primary",onClick:n},"\u6570\u636e\u5bfc\u51fa"))))}function q(e){var a=e.global,t=a.config,n=a.pinghengResizeDataList,r=a.pinghengParameter;return{config:t,pinghengResizeDataList:n,pinghengParameter:r}}var K=Object(y["c"])(q)(W),Y=l["a"].TabPane;a["default"]=function(){return c.a.createElement("div",null,c.a.createElement(r["a"],{style:{marginTop:"5px"}}),c.a.createElement("h1",{style:{textAlign:"center",fontWeight:"900"}},"\u5357\u65b9\u91d1\u5c5e\u5e73\u8861\u9879\u76ee"),c.a.createElement(l["a"],{defaultActiveKey:"1",size:"large",tabBarStyle:{paddingLeft:"50px"},style:{padding:"0 20px"}},c.a.createElement(Y,{tab:"\u6570\u636e\u5f55\u5165",key:"1"},c.a.createElement(n["a"],null,c.a.createElement(j,null))),c.a.createElement(Y,{tab:"\u6570\u636e\u8bbe\u7f6e",key:"2"},c.a.createElement(n["a"],null,c.a.createElement(M,null))),c.a.createElement(Y,{tab:"\u6570\u636e\u77eb\u6b63",key:"3"},c.a.createElement(n["a"],null,c.a.createElement(R,null))),c.a.createElement(Y,{tab:"\u6570\u636e\u5bf9\u6bd4",key:"4"},c.a.createElement(n["a"],null,c.a.createElement(J,null))),c.a.createElement(Y,{tab:"\u6570\u636e\u5bfc\u51fa",key:"5"},c.a.createElement(n["a"],null,c.a.createElement(K,null)))))}}}]);